[program:wps-robot]
# Gunicorn命令（修改路径为实际路径）
command=/opt/wps_robot_open_api/venv/bin/gunicorn --bind 0.0.0.0:80 --workers 4 --timeout 60 --access-logfile /opt/wps_robot_open_api/logs/gunicorn-access.log --error-logfile /opt/wps_robot_open_api/logs/gunicorn-error.log --log-level info wps_robot.wsgi:application

# 工作目录
directory=/opt/wps_robot_open_api

# 运行用户
user=www-data

# 自动启动和重启
autostart=true
autorestart=true
startretries=3

# 进程优先级
priority=999

# 重定向输出
redirect_stderr=true
stdout_logfile=/opt/wps_robot_open_api/logs/supervisor.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10

# 环境变量
environment=PATH="/opt/wps_robot_open_api/venv/bin",PYTHONUNBUFFERED="1"

# 停止信号
stopsignal=TERM
stopwaitsecs=10

# 停止为失败的退出码
stopasgroup=true
killasgroup=true
